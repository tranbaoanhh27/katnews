<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Nhập mã OTP | KAT News</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

        <link rel="icon" href="/assets/images/brand-icon.png" type="image/icon type">
        
        <!-- Bootstrap CSS v5.2.1 -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
            crossorigin="anonymous" />

        <link rel="stylesheet" href="/assets/css/header.css" />
        <link rel="stylesheet" href="./enter-otp.css">
        <link href='https://fonts.googleapis.com/css?family=Lexend' rel='stylesheet'>
        <style>
            body {
                font-family: 'Lexend';
            }
        </style>
    </head>

    <body>
        <header>
            <nav class="navbar fixed-top navbar-expand-sm navbar-light bg-light" style="z-index: 100 !important">
                <div class="container">
                    <button
                        class="navbar-toggler d-lg-none"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#collapsibleNavId"
                        aria-controls="collapsibleNavId"
                        aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <a class="navbar-brand" href="/index.html">
                        <img src="/assets/images/brand-logo.svg" alt="Brand Logo" />
                    </a>
                    <div class="collapse navbar-collapse" id="collapsibleNavId">
                        <ul class="navbar-nav me-auto mt-2 mt-lg-0 header__nav-ul">
                            <li class="nav-item">
                                <a class="nav-link" href="/index.html" aria-current="page"
                                    >Trang chủ <span class="visually-hidden">(current)</span></a
                                >
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/pages/news/news.html">Tin tức</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a
                                    class="nav-link dropdown-toggle"
                                    href="/pages/news/news.html"
                                    id="dropdownId"
                                    data-bs-toggle="dropdown"
                                    aria-haspopup="true"
                                    aria-expanded="false"
                                    >Chuyên mục</a
                                >
                                <ul class="dropdown-menu header__dropdown-menu" aria-labelledby="dropdownId">
                                    <li>
                                        <a href="/pages/news/news.html" class="dropdown-item"
                                            >Kinh doanh <i class="fa-solid fa-caret-down"></i
                                        ></a>
                                        <ul class="dropdown-menu header__dropdown-menu header__dropdown-submenu">
                                            <li><a href="/pages/news/news.html" class="dropdown-item">Nông sản</a></li>
                                            <li><a href="/pages/news/news.html" class="dropdown-item">Hải sản</a></li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="/pages/news/news.html" class="dropdown-item"
                                            >Thể thao <i class="fa-solid fa-caret-down"></i
                                        ></a>
                                        <ul class="dropdown-menu header__dropdown-menu header__dropdown-submenu">
                                            <li><a href="/pages/news/news.html" class="dropdown-item">Bóng đá</a></li>
                                            <li><a href="/pages/news/news.html" class="dropdown-item">Bóng rổ</a></li>
                                            <li><a href="/pages/news/news.html" class="dropdown-item">Quần vợt</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="header__search-container">
                        <img class="header__search-toggle" src="/assets/images/search-button.svg" alt="Search Toggle Button" onclick="toggleSearchForm()"/>
                        <form class="d-flex header__search-form header__search-form--hidden">
                            <input class="form-control me-2" type="search" placeholder="Nhập từ khóa..." aria-label="Search">
                            <button class="btn header__search-submit-button" type="submit">Tìm kiếm</button>
                        </form>
                    </div>
                    <a href="/pages/authentication/sign-in.html">
                        <button class="btn btn-primary header__login-button" type="button">Đăng nhập</button>
                    </a>
                </div>
            </nav>
        </header>
        <main>
            <div class="confirm-otp-card">
                <form action="#" method="post" onsubmit="submitHandler(event)">
                    <h2>Nhập mã OTP</h2>
                    <p class="mt-4">Chúng tôi đã gửi một email chứa mã OTP đến địa chỉ address@domain.com, vui lòng kiểm tra email để lấy mã OTP</p>
                    <div class="mb-4">
                      <label for="otp" class="form-label">Mã OTP</label>
                      <input type="text" class="form-control" name="otp" id="otp" placeholder="_ _ _ _ _ _">
                    </div>
                    <div class="confirm-otp-card__footer">
                        <button type="submit" class="btn btn-primary mb-5">Xác nhận</button>
                        <div>
                            <p>Không nhận được mã?</p>
                            <h5 id="resend-otp" class="resend-otp-link resend-otp-link--disabled">Gửi lại OTP (30s)</h5>
                        </div>
                    </div>
                </form>
            </div>
        </main>
        <footer>
            <!-- place footer here -->
        </footer>
        <!-- Bootstrap JavaScript Libraries -->
        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
            integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
            crossorigin="anonymous"></script>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
            integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
            crossorigin="anonymous"></script>

        <script src="https://kit.fontawesome.com/ea0c74c9ad.js" crossorigin="anonymous"></script>

        <script>
            function toggleSearchForm() {
                let classes = document.querySelector('.header__search-form').classList;
                if (classes.contains('header__search-form--hidden'))
                    document.querySelector('.header__search-form').classList.remove('header__search-form--hidden');    
                else
                    document.querySelector('.header__search-form').classList.add('header__search-form--hidden');
            }

            function submitHandler(event) {
                event.preventDefault();
                window.location.replace(window.location.origin + '/pages/authentication/enter-new-password.html');
            }

            let remainingSeconds = 30;
            let countdown = setInterval(() => {
                let resendOTP = document.getElementById('resend-otp');
                if (remainingSeconds !== 0)
                    resendOTP.innerHTML = `Gửi lại OTP (${remainingSeconds}s)`;
                else {
                    resendOTP.innerHTML = 'Gửi lại OTP';
                    clearInterval(countdown);
                    resendOTP.classList.remove('resend-otp-link--disabled');
                    resendOTP.onclick = (event) => {
                        alert("Đã gửi lại mã OTP!");
                        window.location.reload();
                    }
                }
                remainingSeconds--;
            }, 1000);
        </script>
    </body>
</html>
